#!/bin/sh
#
# install a few necessary items when first setting up a machine

if test ! $(which brew); then
  echo "Installing homebrew"
  /usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
fi

echo "Updating homebrew"
brew update

echo "Setup dotfiles"
brew tap thoughtbot/formulae
brew install rcm

echo "Install cmd line tools"
brew install ruby-install
brew install chruby
brew install tmux
brew install vim
brew install ag
brew install mas
brew install heroku
brew install ghi
brew install exercism

brew cleanup

echo "Setup Cask"
brew tap caskroom/versions
brew tap homebrew/cask-fonts

export HOMEBREW_CASK_OPTS="--appdir=/Applications"

echo "Utilities"
brew install sizeup
brew install iterm2
brew install slack
brew install vlc
brew install docker

echo "Cloud Drives"
brew install dropbox
brew install box-drive

echo "Organizational Tools"
brew install evernote
mas install 944960179 # AnyDo
brew install alfred

echo "Browsers"
if [ ! -e "/Applications/Google Chrome.app" ]; then
  brew install google-chrome
fi
if [ ! -e "/Applications/Firefox.app" ]; then
  brew install firefox
fi

echo "Monospaced fonts"
brew install font-anonymous-pro
brew install font-droidsansmono-nerd-font

echo "Cleanup"
brew cleanup

brew alfred link

echo "RCUP"
chsh -s $(which zsh)
env RCRC=$HOME/dotfiles/rcrc rcup
